{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/GamePage/Details/Details.tsx","components/GamePage/Hero/styles.ts","components/GamePage/Hero/Hero.tsx","components/GamePage/GamePage.tsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","Details","props","w","StyledHero","styled","Box","StyledGameInfo","StyledHeading","h2","StyledEdit","a","StyledReleasedDate","p","StyledPublisher","Link","Hero","React","memo","releaseDate","release","day","Date","getDate","month","toLocaleString","year","getFullYear","elapsedDays","getElapsedDaysSincePastDate","transformedDate","height","width","fit","transform","src","alt","title","href","to","publisherSlug","publisher","GamePage","useState","game","setGame","igdbContext","useContext","IgdbContext","gameSlug","useParams","query","setQuery","useEffect","fetchGameData","then","axios","spread","responses","randomScreenshot","Math","floor","random","results","gameData","random_screenshot","screenshots","series","catch","error","errorMessage","data","setError","name","image","released","publishers","slug"],"mappings":"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","file":"static/js/3.7c05c6b1.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { Box } from \"@chakra-ui/layout\"\n\nexport const Details: React.FC = props => (\n  <Box w=\"var(--default-width)\">\n\n  </Box>\n)","import { Box } from \"@chakra-ui/layout\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const StyledHero = styled(Box)`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  width: 100vw;\n  height: 47vh;\n  overflow: hidden;\n  background: linear-gradient(to bottom, var(--color-grey-3) 0%, var(--color-grey-3) 70%, var(--color-grey-5) 100%);\n`;\n\nexport const StyledGameInfo = styled(Box)`\n  position: absolute;\n  bottom: 0;\n  color: var(--color-background);\n  font-weight: 600;\n`; \n\nexport const StyledHeading = styled.h2`\n  display: flex;\n  align-items: center;\n  font-size: var(--game-heading-size);\n  font-weight: bold;\n  color: var(--color-white);\n  `;\n\nexport const StyledEdit = styled.a`\n  font-size: var(--xsmall-font-size);\n  color: var(--color-edit);\n  background-color: var(--color-edit-bg);\n  margin-left: 2rem;\n  padding: .3rem .5rem;\n  border-radius: 2px;\n  opacity: .5;\n\n  &:hover { background-color: var(--color-grey-5); }\n`;\n\nexport const StyledReleasedDate = styled.p`\n  font-size: var(--big-font-size);\n  opacity: .8;\n`;\n\nexport const StyledPublisher = styled(Link)`\n  display: inline-block;\n  font-size: var(--medium-font-size);\n  font-style: italic;\n  margin: 2rem 0;\n  line-height: 1;\n  border-bottom: 1px solid transparent;\n  opacity: .8;\n\n  &:hover { border-color: var(--color-accent); }\n`;","import React from \"react\";\nimport { Image } from \"@chakra-ui/image\";\nimport { getElapsedDaysSincePastDate } from \"../../../shared/utility\";\nimport { Props } from \"./interfaces\";\nimport { StyledEdit, StyledGameInfo, StyledHeading, StyledHero, StyledPublisher, StyledReleasedDate } from \"./styles\";\n\nexport const Hero: React.FC<Props> = React.memo(props => {\n  const releaseDate = props.release;\n  const day = new Date(releaseDate).getDate();\n  const month = new Date(releaseDate).toLocaleString('default', { month: 'short' });\n  const year = new Date(releaseDate).getFullYear(); \n  const elapsedDays = getElapsedDaysSincePastDate(releaseDate, true);\n  \n  const transformedDate = releaseDate && `${day} ${month}, ${year} (${elapsedDays})`;\n  \n  return (\n    <StyledHero>\n      <Image\n        height=\"100%\"\n        width=\"100%\"\n        fit=\"cover\"\n        filter=\"blur(8px)\"\n        transform=\"scale(1.1)\"\n        src={props.src}\n        alt={props.alt} />\n      <StyledGameInfo>\n        <StyledHeading>\n          {props.title}\n          {releaseDate && <StyledEdit href=\"https://www.igdb.com/dialog/login\">Edit</StyledEdit>}\n        </StyledHeading>\n        <StyledReleasedDate>{transformedDate}</StyledReleasedDate>\n        <StyledPublisher to={`/companies/${props.publisherSlug}`}>{props.publisher}</StyledPublisher>\n      </StyledGameInfo>\n    </StyledHero>\n  );\n})\n","import { Box } from \"@chakra-ui/layout\";\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router\";\nimport { setQuery } from \"../../network/apiClient\";\nimport { fetchGameData } from \"../../network/lib/games\";\nimport { IgdbContext } from \"../../store/IgdbContext\";\nimport { Details } from \"./Details/Details\";\nimport { Hero } from \"./Hero/Hero\";\nimport { Game } from \"./interfaces\";\n\nconst GamePage: React.FC = () => {\n  const [game, setGame] = useState<Game>();\n\n  const igdbContext = useContext(IgdbContext);\n  const search: {game: string} = useParams();\n  const gameSlug = search.game;\n  const query: string = setQuery();\n  \n  useEffect(() => {\n    fetchGameData(gameSlug, query)\n    .then(axios.spread((...responses) => {\n      const randomScreenshot = Math.floor(Math.random() * responses[1].results.length);\n      const gameData = {\n        ...responses[0],\n        random_screenshot: randomScreenshot,\n        screenshots: responses[1].results,\n        series: responses[2].results\n      };\n      \n      // console.log(gameData);\n      // console.log(randomScreenshot);\n\n      setGame(gameData);\n    }))\n    .catch(error => {\n      const errorMessage: string = error.responses.data.error;\n\n      igdbContext.setError(errorMessage);\n    })\n  }, []);\n\n  return (\n    <Box>\n      <Hero \n        alt={game?.name as string}\n        src={game?.screenshots[game.random_screenshot].image as string} \n        title={game?.name as string}\n        release={game?.released as string}\n        publisher={game?.publishers[0].name as string}\n        publisherSlug={game?.publishers[0].slug as string} />\n      <Details></Details>\n\n    </Box>\n  );\n}\n\nexport default GamePage;"],"sourceRoot":""}