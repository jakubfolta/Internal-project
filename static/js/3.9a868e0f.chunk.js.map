{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/GamePage/GamePage.tsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","GamePage","useState","game","setGame","igdbContext","useContext","IgdbContext","gameSlug","useParams","query","setQuery","useEffect","fetchGameData","then","axios","spread","responses","randomScreenshot","Math","floor","random","results","gameData","random_screenshot","screenshots","series","console","log","catch","error","errorMessage","data","setError","components","alt","name","src","image","title","release","released","publisher","publishers","publisherSlug","slug","background_image","nameSlug","genres","genreSlug","platforms","description","description_raw","versions","website","reddit","reddit_url","metacritic","renderComponents"],"mappings":"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","file":"static/js/3.9a868e0f.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import axios from \"axios\";\nimport { Box } from \"@chakra-ui/layout\";\nimport { Fragment, useContext, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router\";\nimport { setQuery } from \"../../network/apiClient\";\nimport { fetchGameData } from \"../../network/lib/games\";\nimport { IgdbContext } from \"../../store/IgdbContext\";\nimport { Details, Hero } from \"../\";\nimport { Game } from \"./interfaces\";\nimport { Genres, ParentPlatforms, Series } from \"../../shared/api.interfaces\";\n\nconst renderComponents = (game: Game) => (\n  <Box>\n    <Hero \n      alt={game?.name as string}\n      src={game?.screenshots[game.random_screenshot].image as string} \n      title={game?.name as string}\n      release={game?.released as string}\n      publisher={game?.publishers[0].name as string}\n      publisherSlug={game?.publishers[0].slug as string}  />\n    <Details \n      src={game?.background_image as string}\n      nameSlug={game?.slug as string}\n      genres={game?.genres as Genres[]}\n      genreSlug={game?.genres[0].slug as string}\n      platforms={game?.platforms as ParentPlatforms[]}\n      description={game?.description_raw as string}\n      versions={game?.series as Series[]}  \n      website={game?.website as string}\n      reddit={game?.reddit_url as string}\n      metacritic={game?.metacritic}  />\n  </Box>\n);\n\nconst GamePage: React.FC = () => {\n  const [game, setGame] = useState<Game>();\n\n  const igdbContext = useContext(IgdbContext);\n  const search: {game: string} = useParams();\n  const gameSlug = search.game;\n  const query: string = setQuery();\n  \n  useEffect(() => {\n    fetchGameData(gameSlug, query)\n    .then(axios.spread((...responses) => {\n      const randomScreenshot = Math.floor(Math.random() * responses[1].results.length);\n      const gameData = {\n        ...responses[0],\n        random_screenshot: randomScreenshot,\n        screenshots: responses[1].results,\n        series: responses[2].results\n      };\n      \n      console.log(gameData);\n      setGame(gameData);\n    }))\n    .catch(error => {\n      const errorMessage: string = error.responses.data.error;\n\n      igdbContext.setError(errorMessage);\n    })\n  }, []);\n\n  const components = game && renderComponents(game);\n\n  return (\n    <Fragment>\n      {components}\n    </Fragment>\n  );\n}\n\nexport default GamePage;"],"sourceRoot":""}